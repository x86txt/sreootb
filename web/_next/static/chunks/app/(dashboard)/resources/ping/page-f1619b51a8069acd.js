(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{2843:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(71708),a=s(38704),n=s(54335),i=s(4251),c=s(69802),l=s(40539),o=s(55100),d=s(66793);function u(){let[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[f,x]=(0,a.useState)({});(0,a.useEffect)(()=>{(async()=>{try{u(!0),h(null);let e=(await (0,n.$G)()).filter(e=>e.url.startsWith("ping://"));t(e);let s=e.map(e=>(0,n.cR)(e.id,100)),r=await Promise.all(s),a={};e.forEach((e,t)=>{a[e.id]=r[t]}),x(a)}catch(e){h(e instanceof Error?e.message:"Failed to fetch Ping resources")}finally{u(!1)}})()},[]);let p=e=>{let t=(f[e]||[]).filter(e=>"up"===e.status&&e.response_time).map(e=>1e3*e.response_time);if(0===t.length)return{min:"N/A",max:"N/A",avg:"N/A"};let s=Math.min(...t).toFixed(0);return{min:s,max:Math.max(...t).toFixed(0),avg:(t.reduce((e,t)=>e+t,0)/t.length).toFixed(0)}};return s?(0,r.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.A,{className:"h-6 w-6 animate-pulse text-primary"}),(0,r.jsx)("span",{className:"text-lg",children:"Loading Ping Resources..."})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"border-b bg-card px-6 py-4",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Ping Latency"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Latency metrics for your monitored ping resources."})]})})}),(0,r.jsxs)("main",{className:"p-6 space-y-6",children:[m&&(0,r.jsx)(i.Zp,{className:"border-destructive bg-destructive/10",children:(0,r.jsx)(i.Wu,{className:"p-4",children:(0,r.jsx)("p",{className:"text-destructive",children:m})})}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Ping Resources"}),(0,r.jsx)(i.BT,{children:"A list of all your monitored ping resources."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"rounded-md border",children:[(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-4 font-medium text-sm bg-muted/50 border-b",children:[(0,r.jsx)("div",{className:"col-span-5",children:"Name"}),(0,r.jsx)("div",{className:"col-span-2",children:"Status"}),(0,r.jsx)("div",{className:"col-span-1",children:"Last (ms)"}),(0,r.jsx)("div",{className:"col-span-1",children:"Min (ms)"}),(0,r.jsx)("div",{className:"col-span-1",children:"Max (ms)"}),(0,r.jsx)("div",{className:"col-span-2",children:"Avg (ms)"})]}),0===e.length&&!s&&(0,r.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No Ping resources found."}),(0,r.jsx)("div",{className:"divide-y",children:e.map(e=>{let{min:t,max:s,avg:a}=p(e.id),n=e.response_time?(1e3*e.response_time).toFixed(0):"N/A";return(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-4 items-center hover:bg-muted/50",children:[(0,r.jsxs)("div",{className:"col-span-5 font-medium",children:[(0,r.jsx)("div",{className:"flex items-center",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.url.replace("ping://","")})]}),(0,r.jsx)("div",{className:"col-span-2",children:"up"===e.status?(0,r.jsxs)(c.E,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[(0,r.jsx)(o.A,{className:"h-3 w-3 mr-1"}),"Up"]}):(0,r.jsxs)(c.E,{variant:"destructive",children:[(0,r.jsx)(d.A,{className:"h-3 w-3 mr-1"}),"Down"]})}),(0,r.jsx)("div",{className:"col-span-1",children:n}),(0,r.jsx)("div",{className:"col-span-1",children:t}),(0,r.jsx)("div",{className:"col-span-1",children:s}),(0,r.jsx)("div",{className:"col-span-2",children:a})]},e.id)})})]})})]})]})]})}},4251:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>c});var r=s(71708),a=s(38704),n=s(71646);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-card dark:shadow-card-dark",s),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});l.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},54335:(e,t,s)=>{"use strict";s.d(t,{$G:()=>a,Ae:()=>n,WE:()=>d,cR:()=>c,r2:()=>o,tj:()=>u,x_:()=>i,yr:()=>l});let r="/api";async function a(){let e=await fetch("".concat(r,"/sites/status"));if(!e.ok)throw Error("Failed to fetch sites status");return e.json()}async function n(e){let t=await fetch("".concat(r,"/sites"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(await t.text()||"Failed to create site");return t.json()}async function i(e){let t=await fetch("".concat(r,"/sites/").concat(e),{method:"DELETE"});if(!t.ok)throw Error(await t.text()||"Failed to delete site");return t.json()}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=await fetch("".concat(r,"/sites/").concat(e,"/history?limit=").concat(t));if(!s.ok)throw Error("Failed to fetch site history");return s.json()}async function l(){let e=await fetch("".concat(r,"/stats"));if(!e.ok)throw Error("Failed to fetch monitor stats");return e.json()}async function o(){let e=await fetch("".concat(r,"/check/manual"),{method:"POST"});if(!e.ok)throw Error(await e.text()||"Failed to trigger manual check");return e.json()}async function d(){let e=await fetch("".concat(r,"/config"));if(!e.ok)throw Error("Failed to fetch app configuration");return e.json()}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=new URLSearchParams({hours:t.toString(),interval_minutes:s.toString()});e&&"all"!==e?a.append("site_ids",e.join(",")):a.append("site_ids","all");let n=await fetch("".concat(r,"/sites/analytics?").concat(a));if(!n.ok)throw Error("Failed to fetch sites analytics");return n.json()}},55100:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(95733).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},64439:(e,t,s)=>{Promise.resolve().then(s.bind(s,2843))},66793:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(95733).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},69802:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var r=s(71708);s(38704);var a=s(55048),n=s(71646);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},71646:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(61046),a=s(20839);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[536,924,579,358],()=>t(64439)),_N_E=e.O()}]);