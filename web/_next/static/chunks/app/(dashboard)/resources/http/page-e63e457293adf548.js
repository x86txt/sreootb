(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4251:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>l,ZB:()=>d,Zp:()=>i,aR:()=>c});var s=r(71708),a=r(38704),n=r(71646);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-card dark:shadow-card-dark",r),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});l.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},52396:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(95733).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},54335:(e,t,r)=>{"use strict";r.d(t,{$G:()=>a,Ae:()=>n,WE:()=>l,cR:()=>c,r2:()=>o,tj:()=>u,x_:()=>i,yr:()=>d});let s="/api";async function a(){let e=await fetch("".concat(s,"/sites/status"));if(!e.ok)throw Error("Failed to fetch sites status");return e.json()}async function n(e){let t=await fetch("".concat(s,"/sites"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(await t.text()||"Failed to create site");return t.json()}async function i(e){let t=await fetch("".concat(s,"/sites/").concat(e),{method:"DELETE"});if(!t.ok)throw Error(await t.text()||"Failed to delete site");return t.json()}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=await fetch("".concat(s,"/sites/").concat(e,"/history?limit=").concat(t));if(!r.ok)throw Error("Failed to fetch site history");return r.json()}async function d(){let e=await fetch("".concat(s,"/stats"));if(!e.ok)throw Error("Failed to fetch monitor stats");return e.json()}async function o(){let e=await fetch("".concat(s,"/check/manual"),{method:"POST"});if(!e.ok)throw Error(await e.text()||"Failed to trigger manual check");return e.json()}async function l(){let e=await fetch("".concat(s,"/config"));if(!e.ok)throw Error("Failed to fetch app configuration");return e.json()}async function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=new URLSearchParams({hours:t.toString(),interval_minutes:r.toString()});e&&"all"!==e?a.append("site_ids",e.join(",")):a.append("site_ids","all");let n=await fetch("".concat(s,"/sites/analytics?").concat(a));if(!n.ok)throw Error("Failed to fetch sites analytics");return n.json()}},55100:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(95733).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},58655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(71708),a=r(38704),n=r(54335),i=r(4251),c=r(69802),d=r(40539),o=r(52396),l=r(55100),u=r(66793);function h(){let[e,t]=(0,a.useState)([]),[r,h]=(0,a.useState)(!0),[f,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{h(!0),m(null);let e=(await (0,n.$G)()).filter(e=>e.url.startsWith("http"));t(e)}catch(e){m(e instanceof Error?e.message:"Failed to fetch HTTP/S resources")}finally{h(!1)}})()},[]);let x=e=>{var t;let r=e.total_up+e.total_down,s=null==(t=e.scan_interval)?void 0:t.match(/(\d+)/),a=s?parseInt(s[1],10):60,n=r>0?e.total_down/r*100:0,i=e.response_time?1e3*e.response_time:0;return{rate:(r>0?r/(r*a)*60:0).toFixed(2),errorRate:n.toFixed(2),duration:i.toFixed(0)}};return r?(0,s.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"h-6 w-6 animate-pulse text-primary"}),(0,s.jsx)("span",{className:"text-lg",children:"Loading HTTP/S Resources..."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("header",{className:"border-b bg-card px-6 py-4",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"HTTP(S) Resources"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Rate, Error, and Duration (RED) metrics for your web resources."})]})})}),(0,s.jsxs)("main",{className:"p-6 space-y-6",children:[f&&(0,s.jsx)(i.Zp,{className:"border-destructive bg-destructive/10",children:(0,s.jsx)(i.Wu,{className:"p-4",children:(0,s.jsx)("p",{className:"text-destructive",children:f})})}),(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Monitored Sites"}),(0,s.jsx)(i.BT,{children:"A list of all your monitored HTTP and HTTPS sites."})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"rounded-md border",children:[(0,s.jsxs)("div",{className:"grid grid-cols-6 gap-4 p-4 font-medium text-sm bg-muted/50 border-b",children:[(0,s.jsx)("div",{className:"col-span-2",children:"Name"}),(0,s.jsx)("div",{children:"Status"}),(0,s.jsx)("div",{children:"Rate (req/min)"}),(0,s.jsx)("div",{children:"Error Rate (%)"}),(0,s.jsx)("div",{children:"Duration (ms)"})]}),0===e.length&&!r&&(0,s.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:"No HTTP(S) resources found."}),(0,s.jsx)("div",{className:"divide-y",children:e.map(e=>{let{rate:t,errorRate:r,duration:a}=x(e);return(0,s.jsxs)("div",{className:"grid grid-cols-6 gap-4 p-4 items-center hover:bg-muted/50",children:[(0,s.jsxs)("div",{className:"col-span-2 font-medium",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[e.name,(0,s.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-primary hover:text-primary/80",children:(0,s.jsx)(o.A,{className:"h-3 w-3"})})]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.url})]}),(0,s.jsx)("div",{children:"up"===e.status?(0,s.jsxs)(c.E,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[(0,s.jsx)(l.A,{className:"h-3 w-3 mr-1"}),"Up"]}):(0,s.jsxs)(c.E,{variant:"destructive",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Down"]})}),(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{children:r}),(0,s.jsx)("div",{children:a})]},e.id)})})]})})]})]})]})}},60539:(e,t,r)=>{Promise.resolve().then(r.bind(r,58655))},66793:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(95733).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},69802:(e,t,r)=>{"use strict";r.d(t,{E:()=>c});var s=r(71708);r(38704);var a=r(55048),n=r(71646);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},71646:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(61046),a=r(20839);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[536,924,579,358],()=>t(60539)),_N_E=e.O()}]);